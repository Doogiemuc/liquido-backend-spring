<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="641px" preserveAspectRatio="none" style="width:1218px;height:641px;" version="1.1" viewBox="0 0 1218 641" width="1218px" zoomAndPan="magnify"><defs><filter height="300%" id="f1xn79ubk1ep37" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="24" x2="24" y1="88.2969" y2="557.5547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="170" x2="170" y1="88.2969" y2="557.5547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="365" x2="365" y1="88.2969" y2="557.5547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="930" x2="930" y1="88.2969" y2="557.5547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1072" x2="1072" y1="88.2969" y2="557.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="5" y="84.9951">User</text><ellipse cx="24" cy="15" fill="#FEFECE" filter="url(#f1xn79ubk1ep37)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M24,23 L24,50 M11,31 L37,31 M24,50 L11,65 M24,50 L37,65 " fill="none" filter="url(#f1xn79ubk1ep37)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="5" y="569.5498">User</text><ellipse cx="24" cy="582.8516" fill="#FEFECE" filter="url(#f1xn79ubk1ep37)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M24,590.8516 L24,617.8516 M11,598.8516 L37,598.8516 M24,617.8516 L11,632.8516 M24,617.8516 L37,632.8516 " fill="none" filter="url(#f1xn79ubk1ep37)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1xn79ubk1ep37)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="90" x="123" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="130" y="72.9951">LiquidoApp</text><rect fill="#FEFECE" filter="url(#f1xn79ubk1ep37)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="90" x="123" y="556.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="130" y="576.5498">LiquidoApp</text><rect fill="#FEFECE" filter="url(#f1xn79ubk1ep37)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="128" x="299" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="306" y="72.9951">Liquido Backend</text><rect fill="#FEFECE" filter="url(#f1xn79ubk1ep37)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="128" x="299" y="556.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="306" y="576.5498">Liquido Backend</text><rect fill="#FEFECE" filter="url(#f1xn79ubk1ep37)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="74" x="891" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="898" y="72.9951">AuthyAPI</text><rect fill="#FEFECE" filter="url(#f1xn79ubk1ep37)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="74" x="891" y="556.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="898" y="576.5498">AuthyAPI</text><rect fill="#FEFECE" filter="url(#f1xn79ubk1ep37)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="80" x="1030" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="1037" y="72.9951">AuthyApp</text><rect fill="#FEFECE" filter="url(#f1xn79ubk1ep37)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="80" x="1030" y="556.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="1037" y="576.5498">AuthyApp</text><polygon fill="#A80036" points="158,115.4297,168,119.4297,158,123.4297,162,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="24" x2="164" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="31" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="44" y="114.3638">Open App</text><polygon fill="#A80036" points="353,174.8281,363,178.8281,353,182.8281,357,178.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="170" x2="359" y1="178.8281" y2="178.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="177" y="158.6294">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="190" y="143.4966">Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="190" y="158.6294">One-Time-Token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="190" y="173.7622">(OTT)</text><polygon fill="#A80036" points="918,203.9609,928,207.9609,918,211.9609,922,207.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="365" x2="924" y1="207.9609" y2="207.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="372" y="202.895">3</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="440" x="385" y="202.895">GET https://api.authy.com/protected/json/sms/{AUTHY_ID}</text><polygon fill="#A80036" points="1060,233.0938,1070,237.0938,1060,241.0938,1064,237.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="930" x2="1066" y1="237.0938" y2="237.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="937" y="232.0278">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="950" y="232.0278">push notification</text><path d="M1077,250.0938 L1077,275.0938 L1209,275.0938 L1209,260.0938 L1199,250.0938 L1077,250.0938 " fill="#FBFB77" filter="url(#f1xn79ubk1ep37)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1199,250.0938 L1199,260.0938 L1209,260.0938 L1199,250.0938 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="1083" y="267.1606">Show OTT to user</text><polygon fill="#A80036" points="158,316.4922,168,320.4922,158,324.4922,162,320.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="24" x2="164" y1="320.4922" y2="320.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="31" y="307.8599">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="44" y="300.2935">user enters OTT</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="44" y="315.4263">from AuthyApp</text><polygon fill="#A80036" points="353,345.625,363,349.625,353,353.625,357,349.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="170" x2="359" y1="349.625" y2="349.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="177" y="344.5591">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="190" y="344.5591">login with OTT</text><polygon fill="#A80036" points="918,374.7578,928,378.7578,918,382.7578,922,378.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="365" x2="924" y1="378.7578" y2="378.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="372" y="373.6919">7</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="528" x="385" y="373.6919">GET https://api.authy.com/protected/json/verify/{TOKEN}/{AUTHY_ID}</text><polygon fill="#A80036" points="376,403.8906,366,407.8906,376,411.8906,372,407.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="370" x2="929" y1="407.8906" y2="407.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="382" y="402.8247">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="395" y="402.8247">HTTP 200</text><polygon fill="#A80036" points="181,433.0234,171,437.0234,181,441.0234,177,437.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="175" x2="364" y1="437.0234" y2="437.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="187" y="431.9575">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="200" y="431.9575">JsonWebToken (JWT)</text><polygon fill="#A80036" points="35,462.1563,25,466.1563,35,470.1563,31,466.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="29" x2="169" y1="466.1563" y2="466.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="41" y="461.0903">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="63" y="461.0903">login successful</text><polygon fill="#A80036" points="353,506.4219,363,510.4219,353,514.4219,357,510.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="170" x2="359" y1="510.4219" y2="510.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="177" y="497.7896">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="199" y="490.2231">authenticated requests</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="199" y="505.356">with JWT in header</text><polygon fill="#A80036" points="181,535.5547,171,539.5547,181,543.5547,177,539.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="175" x2="364" y1="539.5547" y2="539.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="187" y="534.4888">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="209" y="534.4888">OK</text><!--MD5=[75e55b43cf4646cc71e05d2afcd67165]
@startuml
autonumber

actor User
participant LiquidoApp
participant "Liquido Backend" as BE
participant AuthyAPI
participant AuthyApp

User -> LiquidoApp: Open App

LiquidoApp -> BE: Request\nOne-Time-Token\n(OTT)

BE -> AuthyAPI: ""GET https://api.authy.com/protected/json/sms/{AUTHY_ID}""
AuthyAPI -> AuthyApp: push notification

note right of AuthyApp: Show OTT to user

User -> LiquidoApp: user enters OTT\nfrom AuthyApp

LiquidoApp -> BE: login with OTT
BE -> AuthyAPI: ""GET https://api.authy.com/protected/json/verify/{TOKEN}/{AUTHY_ID}""
AuthyAPI - -> BE: HTTP 200

BE - -> LiquidoApp: JsonWebToken (JWT)
LiquidoApp - -> User: login successful

LiquidoApp -> BE: authenticated requests\nwith JWT in header
BE - -> LiquidoApp: OK
@enduml

PlantUML version 1.2020.22(Sun Dec 06 09:36:27 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>